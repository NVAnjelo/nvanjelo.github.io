---

title: "/home/anarendran/Documents/temp/rivet/analyses/pluginATLAS/ATLAS_2014_I1325553.cc"

---

# /home/anarendran/Documents/temp/rivet/analyses/pluginATLAS/ATLAS_2014_I1325553.cc



## Namespaces

| Name           |
| -------------- |
| **[Rivet](http://example.org/namespaces/namespacerivet/)** <br>-*- C++ -*-  |

## Classes

|                | Name           |
| -------------- | -------------- |
| class | **[Rivet::ATLAS_2014_I1325553](http://example.org/classes/classrivet_1_1atlas__2014__i1325553/)** <br>Jet mass as a function of ystar.  |




## Source code

```cpp
// -*- C++ -*-
#include "Rivet/Analysis.hh"
#include "Rivet/Projections/FinalState.hh"
#include "Rivet/Projections/FastJets.hh"
#include "Rivet/Tools/BinnedHistogram.hh"

namespace Rivet {


  class ATLAS_2014_I1325553 : public Analysis {
  public:

    ATLAS_2014_I1325553()
      : Analysis("ATLAS_2014_I1325553")
    {    }




    void init() {

      const FinalState fs;
      declare(fs,"FinalState");

      FastJets fj04(fs,  FastJets::ANTIKT, 0.4);
      fj04.useInvisibles();
      declare(fj04, "AntiKT04");

      FastJets fj06(fs,  FastJets::ANTIKT, 0.6);
      fj06.useInvisibles();
      declare(fj06, "AntiKT06");

      double ybins[] = {0.0, 0.5, 1.0, 1.5, 2.0, 2.5, 3.0};

      size_t ptDsOffset(0);
      for (size_t alg = 0; alg < 2; ++alg) {
        for (size_t i = 0; i < 6; ++i) {
          Histo1DPtr tmp;
          _pt[alg].add(ybins[i], ybins[i + 1], book(tmp, 1 + ptDsOffset, 1, 1));
          ptDsOffset += 1;
        }
      }
    }


    void analyze(const Event& event) {
      Jets jetAr[2];
      jetAr[AKT4] = apply<FastJets>(event, "AntiKT04").jetsByPt(Cuts::pT > 100*GeV && Cuts::absrap < 3.0);
      jetAr[AKT6] = apply<FastJets>(event, "AntiKT06").jetsByPt(Cuts::pT > 100*GeV && Cuts::absrap < 3.0);

      // Loop over jet "radii" used in analysis
      for (size_t alg = 0; alg < 2; ++alg) {

        // fill the 1D pt histograms with all the jets passing the cuts
        for (const Jet& jet : jetAr[alg]) {
          const double absrap = jet.absrap();
          if (absrap < 3.0) {
            const double pt = jet.pT();
            if (pt/GeV > 100*GeV) {
              _pt[alg].fill(absrap, pt/GeV);
            }
          }
        }
      }
    }


    void finalize() {

      const double xs_pb( crossSection() / picobarn );
      const double sumW( sumOfWeights() );
      const double xs_norm_factor( 0.5*xs_pb / sumW );

      for (size_t alg = 0; alg < 2; ++alg) {
        _pt[alg].scale(xs_norm_factor, this);
      }
    }



  private:

    // Data members like post-cuts event weight counters go here
    enum Alg { AKT4=0, AKT6=1 };

    BinnedHistogram _pt[2];

  };


  RIVET_DECLARE_PLUGIN(ATLAS_2014_I1325553);

}
```


-------------------------------

Updated on 2022-07-27 at 19:10:14 +0100
