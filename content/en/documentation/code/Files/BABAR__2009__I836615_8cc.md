---

title: "/home/anarendran/Documents/temp/rivet/analyses/pluginBABAR/BABAR_2009_I836615.cc"

---

# /home/anarendran/Documents/temp/rivet/analyses/pluginBABAR/BABAR_2009_I836615.cc



## Namespaces

| Name           |
| -------------- |
| **[Rivet](http://example.org/namespaces/namespacerivet/)** <br>-*- C++ -*-  |

## Classes

|                | Name           |
| -------------- | -------------- |
| class | **[Rivet::BABAR_2009_I836615](http://example.org/classes/classrivet_1_1babar__2009__i836615/)** <br>D*+/- in Upsilon(1S) decays.  |




## Source code

```cpp
// -*- C++ -*-
#include "Rivet/Analysis.hh"
#include "Rivet/Projections/UnstableParticles.hh"

namespace Rivet {


  class BABAR_2009_I836615 : public Analysis {
  public:

    RIVET_DEFAULT_ANALYSIS_CTOR(BABAR_2009_I836615);




    void init() {

      // Initialise and register projections
      declare(UnstableParticles(), "UFS");
      // book the histogram
      book(_hist,1,1,1);
    }

    void findDecayProducts(Particle mother, Particles& unstable) {
      for(const Particle & p: mother.children()) {
        const int id = abs(p.pid());
    if(id == 413) {
      unstable.push_back(p);
    }
    if(!p.children().empty())
      findDecayProducts(p, unstable);
      }
    }

    void analyze(const Event& event) {
      // maximum momentum of D* calculated using PDG 2008 masses (as in paper)
      static const double Pmax = 4.28172;
      // Loop over the upsilons
      // Find the Upsilons among the unstables
      for(const Particle & ups : apply<UnstableParticles>(event, "UFS").particles(Cuts::pid==553)) {
    // boost to rest frame
    LorentzTransform boost;
    if (ups.p3().mod() > 1*MeV)
      boost = LorentzTransform::mkFrameTransformFromBeta(ups.momentum().betaVec());
    // find D*
    Particles unstable;
    findDecayProducts(ups,unstable);
    // loop over D*
    for(const Particle& p : unstable) {
      const FourMomentum p2 = boost.transform(p.momentum());
      const double xP = p2.p3().mod()/Pmax;
      _hist->fill(xP);
    }
      }
    }


    void finalize() {
      normalize(_hist);
    }




    Histo1DPtr _hist;


  };


  RIVET_DECLARE_PLUGIN(BABAR_2009_I836615);

}
```


-------------------------------

Updated on 2022-07-27 at 19:10:14 +0100
