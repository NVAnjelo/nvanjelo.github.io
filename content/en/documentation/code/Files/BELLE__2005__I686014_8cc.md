---

title: "/home/anarendran/Documents/temp/rivet/analyses/pluginBELLE/BELLE_2005_I686014.cc"

---

# /home/anarendran/Documents/temp/rivet/analyses/pluginBELLE/BELLE_2005_I686014.cc



## Namespaces

| Name           |
| -------------- |
| **[Rivet](http://example.org/namespaces/namespacerivet/)** <br>-*- C++ -*-  |

## Classes

|                | Name           |
| -------------- | -------------- |
| class | **[Rivet::BELLE_2005_I686014](http://example.org/classes/classrivet_1_1belle__2005__i686014/)** <br>charm hadron production  |




## Source code

```cpp
// -*- C++ -*-
#include "Rivet/Analysis.hh"
#include "Rivet/Projections/FinalState.hh"
#include "Rivet/Projections/FastJets.hh"
#include "Rivet/Projections/DressedLeptons.hh"
#include "Rivet/Projections/MissingMomentum.hh"
#include "Rivet/Projections/PromptFinalState.hh"
#include "Rivet/Projections/UnstableParticles.hh"

namespace Rivet {


  class BELLE_2005_I686014 : public Analysis {
  public:

    RIVET_DEFAULT_ANALYSIS_CTOR(BELLE_2005_I686014);



    void init() {
      // projections
      declare(UnstableParticles(),"UFS");
      // histos
      if(isCompatibleWithSqrtS(10.52))
        _mode=1;
      else if(isCompatibleWithSqrtS(10.58,1e-4))
        _mode=2;
      else
        MSG_ERROR("Beam energy not supported!");
      for(unsigned int ix=0;ix<7;++ix) {
    if(_mode==1)
      book(_r[ix],2,1,ix+1);
    else
      book(_r[ix],1,1,ix+1);
    book(_h[ix],2+_mode,1,ix+1);
      }
      book(_c,"TMP/wgt");
    }

    void analyze(const Event& event) {
      // unstable particles
      const UnstableParticles& ufs = apply<UnstableParticles>(event, "UFS");
      if(_mode==2 && ufs.particles(Cuts::pid==300553).size()!=1)
    vetoEvent;
      _c->fill();
      for(const Particle & p : ufs.particles(Cuts::abspid==411 ||
                         Cuts::abspid==421 ||
                         Cuts::abspid==431 ||
                         Cuts::abspid==413 ||
                         Cuts::abspid==423 ||
                         Cuts::abspid==4122 )) {
    double pmax = sqrt(0.25*sqr(sqrtS())-sqr(p.mass()));
    double xp = p.momentum().p3().mod()/pmax;
    if(p.abspid()==421) {
      _r[0]->fill(0.5);
      _h[0]->fill(xp);
    }
    else if(p.abspid()==421) {
      _r[0]->fill(0.5);
      _h[0]->fill(xp);
    }
    else if(p.abspid()==411) {
      _r[1]->fill(0.5);
      _h[1]->fill(xp);
    }
    else if(p.abspid()==431) {
      _r[2]->fill(0.5);
      _h[2]->fill(xp);
    }
    else if(p.abspid()==4122) {
      _r[3]->fill(0.5);
      _h[3]->fill(xp);
    }
    else if(p.abspid()==413) {
      _r[4]->fill(0.5);
      _h[4]->fill(xp);
      _r[5]->fill(0.5);
      _h[5]->fill(xp);
    }
    else if(p.abspid()==423) {
      _r[6]->fill(0.5);
      _h[6]->fill(xp);
    }
      }
    }


    void finalize() {
      if(_mode==1) {
    for(unsigned int ix=0;ix<7;++ix) {
      scale(_r[ix],crossSection()/picobarn/sumOfWeights());
      scale(_h[ix],crossSection()/nanobarn/sumOfWeights());
    }
      }
      else {
    for(unsigned int ix=0;ix<7;++ix) {
      scale(_r[ix], 0.5/ *_c);
      scale(_h[ix],crossSection()/nanobarn/sumOfWeights());
    }
      }
    }



    Histo1DPtr _h[7];
    Histo1DPtr _r[7];
    CounterPtr _c;
    unsigned int _mode=0;


  };


  RIVET_DECLARE_PLUGIN(BELLE_2005_I686014);

}
```


-------------------------------

Updated on 2022-07-27 at 19:10:14 +0100
